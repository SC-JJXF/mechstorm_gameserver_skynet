<mxfile host="65bd71144e">
    <diagram id="Ame8QqfA8L-OFSZj6T8L" name="第 1 页">
        <mxGraphModel dx="1196" dy="979" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="70" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
                    <mxGeometry x="90" y="1143" width="90" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="19" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=20;endArrow=open;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.5;exitY=0;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" source="2" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="123.49999999999977" y="176.9456787109376" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2" value="ws 网关&lt;br&gt;ws_server.lua" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#fff2cc;strokeColor=#d6b656;verticalAlign=middle;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="75" y="283" width="97" height="325" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="Client" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#232F3E;fillColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.user;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="-184" y="330" width="60" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;fillColor=#1ba1e2;strokeColor=#006EAF;sketch=1;curveFitting=1;jiggle=2;" parent="1" source="5" target="2" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="-69" y="422" as="sourcePoint"/>
                        <mxPoint x="-19" y="372" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="7" value="Client" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#232F3E;fillColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.user;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="-181.55" y="414" width="60" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="8" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=0.016;entryY=0.57;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#d80073;strokeColor=#A50040;sketch=1;curveFitting=1;jiggle=2;" parent="1" source="7" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="-92.55" y="459" as="sourcePoint"/>
                        <mxPoint x="75.00200000000036" y="446.25" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9" value="Client" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#232F3E;fillColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.user;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="-181.55" y="493" width="60" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fillColor=#008a00;strokeColor=#005700;sketch=1;curveFitting=1;jiggle=2;" parent="1" source="9" target="2" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="-96" y="545" as="sourcePoint"/>
                        <mxPoint x="70" y="566.586" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="13" value="♻️" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;strokeWidth=6;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="93.5" y="566" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="49" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;endArrow=none;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;dashed=1;endFill=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" source="14" target="17" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;player_actor.lua&lt;/span&gt;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start; background-color: initial;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22websocket%E6%A8%A1%E5%9D%97%26lt%3Bbr%20style%3D%26quot%3Bfont-size%3A%2013px%3B%26quot%3B%26gt%3Bws_server.lua%22%20style%3D%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfontSize%3D13%3BfillColor%3D%23fff2cc%3BstrokeColor%3D%23d6b656%3BverticalAlign%3Dmiddle%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2275%22%20y%3D%22283%22%20width%3D%2297%22%20height%3D%22325%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3Eplay&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=middle;dashed=1;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="269" y="306" width="97" height="76" as="geometry"/>
                </mxCell>
                <mxCell id="50" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;dashed=1;endFill=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" source="15" target="17" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;player_actor.lua&lt;/span&gt;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start; background-color: initial;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22websocket%E6%A8%A1%E5%9D%97%26lt%3Bbr%20style%3D%26quot%3Bfont-size%3A%2013px%3B%26quot%3B%26gt%3Bws_server.lua%22%20style%3D%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfontSize%3D13%3BfillColor%3D%23fff2cc%3BstrokeColor%3D%23d6b656%3BverticalAlign%3Dmiddle%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2275%22%20y%3D%22283%22%20width%3D%2297%22%20height%3D%22325%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3Eplay&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=middle;dashed=1;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="268.5" y="401" width="98" height="76" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;player_actor.lua&lt;/span&gt;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start; background-color: initial;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22websocket%E6%A8%A1%E5%9D%97%26lt%3Bbr%20style%3D%26quot%3Bfont-size%3A%2013px%3B%26quot%3B%26gt%3Bws_server.lua%22%20style%3D%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfontSize%3D13%3BfillColor%3D%23fff2cc%3BstrokeColor%3D%23d6b656%3BverticalAlign%3Dmiddle%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2275%22%20y%3D%22283%22%20width%3D%2297%22%20height%3D%22325%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3Eplay&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=middle;dashed=1;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="269" y="495" width="97" height="76" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="&lt;span style=&quot;text-align: start;&quot;&gt;scene&lt;/span&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;_actor.lua&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: rgb(252, 252, 250); background-color: rgb(45, 42, 46); font-family: &amp;quot;JetBrainsMono NF&amp;quot;, &amp;quot;monospace&amp;quot;, monospace, &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;type=&lt;span style=&quot;&quot;&gt;LOBBY&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(252, 252, 250); background-color: rgb(45, 42, 46); font-family: &amp;quot;JetBrainsMono NF&amp;quot;, &amp;quot;monospace&amp;quot;, monospace, &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;mapid=1（&lt;span style=&quot;&quot;&gt;Z战队营地）&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=middle;dashed=1;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="517" y="332" width="179" height="87" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="2.&amp;nbsp;&lt;span style=&quot;font-size: 13px; text-align: center;&quot;&gt;ws_server对token鉴权后，克隆出&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;player_actor，&lt;br&gt;把玩家信息交给它。&lt;br&gt;&lt;br&gt;之后负责维持&lt;/span&gt;&lt;span style=&quot;color: rgb(35, 47, 62); font-size: 12px; text-align: center;&quot;&gt;Client和对应&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;player_actor&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;之间的长连接，让玩家能操控&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;player_actor&lt;/span&gt;&lt;span style=&quot;font-size: 13px; text-align: center;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=16;flipH=1;flipV=1;align=left;verticalAlign=top;spacing=4;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="58.5" y="617" width="142.5" height="227" as="geometry"/>
                </mxCell>
                <mxCell id="20" value="&lt;div style=&quot;text-align: start;&quot;&gt;usercenter_service.lua&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#ffe6cc;strokeColor=#d79b00;verticalAlign=middle;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="47.5" y="102" width="152" height="76" as="geometry"/>
                </mxCell>
                <mxCell id="23" value="1. 客户端通过&lt;span style=&quot;font-size: 13px; text-align: center;&quot;&gt;ws_server.lua&lt;/span&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;开放出来的端口与&lt;span style=&quot;font-size: 14px; text-align: center;&quot;&gt;ws_server建连&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=14;flipH=1;flipV=1;align=left;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="-124" y="556" width="148" height="123" as="geometry"/>
                </mxCell>
                <mxCell id="51" style="edgeStyle=none;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;endArrow=none;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;exitX=0.167;exitY=1.022;exitDx=0;exitDy=0;exitPerimeter=0;endFill=0;fillColor=#d5e8d4;strokeColor=#82b366;sketch=1;curveFitting=1;jiggle=2;" parent="1" source="25" target="17" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="25" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: initial; text-align: start;&quot;&gt;scene_&lt;/span&gt;&lt;span style=&quot;background-color: initial; text-align: start;&quot;&gt;mgr.lua&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;场景&lt;/font&gt;&lt;span style=&quot;text-align: start;&quot;&gt;管理员&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=middle;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="708" y="146" width="142" height="76" as="geometry"/>
                </mxCell>
                <mxCell id="27" value="大家需要&lt;em class=&quot;t55VCb&quot;&gt;scene&lt;/em&gt;的话来找我哇～" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=14;flipH=0;flipV=0;position2=0.44;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="791" y="33" width="149" height="106" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;match_&lt;/span&gt;&lt;span style=&quot;text-align: start;&quot;&gt;service&lt;/span&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;.lua&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;text-align: start;&quot;&gt;PvP PvE 匹配服务&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=middle;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="1252" y="110" width="142" height="76" as="geometry"/>
                </mxCell>
                <mxCell id="33" value="&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;match_&lt;/span&gt;&lt;span style=&quot;text-align: start;&quot;&gt;room&lt;/span&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;.lua&lt;/span&gt;&lt;span style=&quot;text-align: start;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=middle;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="1512" y="290" width="134" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="34" value="&lt;b&gt;实线画的方块&lt;/b&gt;代表skynet启动后就存在的服务（角色）&lt;br&gt;&lt;br&gt;&lt;b&gt;虚线&lt;/b&gt;的是在运行过程中动态创建出来的服务（克隆体），对应lua代码文件名一律以“&lt;span style=&quot;font-size: 13px;&quot;&gt;_actor”结尾&lt;/span&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;dashed=1;strokeWidth=2;fontSize=14;verticalAlign=top;align=left;spacing=6;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="-172.5" y="-163" width="212.5" height="145" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="3.&amp;nbsp;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%222.%26amp%3Bnbsp%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%20text-align%3A%20center%3B%26quot%3B%26gt%3Bws_server%E8%B4%9F%E8%B4%A3%E9%89%B4%E6%9D%83%E3%80%81%E5%85%8B%E9%9A%86%E5%87%BA%E7%8E%A9%E5%AE%B6%E5%AF%B9%E5%BA%94%E7%9A%84%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%26quot%3B%26gt%3Bplayer_actor%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%20text-align%3A%20center%3B%26quot%3B%26gt%3B%26lt%3Bbr%26gt%3B%26lt%3Bbr%26gt%3B%26lt%3B%2Fspan%26gt%3B%22%20style%3D%22shape%3Dcallout%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3Bperimeter%3DcalloutPerimeter%3BstrokeWidth%3D3%3BfontSize%3D16%3BflipH%3D1%3BflipV%3D1%3Balign%3Dleft%3BverticalAlign%3Dtop%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2263.5%22%20y%3D%22615%22%20width%3D%22142.5%22%20height%3D%22144%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;player_actor 扮演对应&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;玩家&lt;/span&gt;&lt;span style=&quot;font-size: 13px; text-align: center;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=16;flipH=1;flipV=1;align=left;verticalAlign=top;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="251" y="593" width="142.5" height="94" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;exitX=1;exitY=0.197;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#1ba1e2;strokeColor=#006EAF;exitPerimeter=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" source="2" target="14" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="172" y="337.25" as="sourcePoint"/>
                        <mxPoint x="268.3209999999999" y="321" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="41" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fillColor=#a20025;strokeColor=#6F0000;sketch=1;curveFitting=1;jiggle=2;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="172" y="444" as="sourcePoint"/>
                        <mxPoint x="268.5" y="443.64" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="42" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;curved=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#008a00;strokeColor=#005700;sketch=1;curveFitting=1;jiggle=2;" parent="1" target="16" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="171" y="527" as="sourcePoint"/>
                        <mxPoint x="279" y="548" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="44" value="&lt;span style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;这个服务负责与&lt;br&gt;SC-JJXF&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;/mechstorm_usercenter 交流&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=16;flipH=1;flipV=1;align=left;verticalAlign=top;spacing=4;direction=south;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="-187" y="97.5" width="227" height="85" as="geometry"/>
                </mxCell>
                <mxCell id="45" value="4.&amp;nbsp;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%222.%26amp%3Bnbsp%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%20text-align%3A%20center%3B%26quot%3B%26gt%3Bws_server%E8%B4%9F%E8%B4%A3%E9%89%B4%E6%9D%83%E3%80%81%E5%85%8B%E9%9A%86%E5%87%BA%E7%8E%A9%E5%AE%B6%E5%AF%B9%E5%BA%94%E7%9A%84%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%26quot%3B%26gt%3Bplayer_actor%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%20text-align%3A%20center%3B%26quot%3B%26gt%3B%26lt%3Bbr%26gt%3B%26lt%3Bbr%26gt%3B%26lt%3B%2Fspan%26gt%3B%22%20style%3D%22shape%3Dcallout%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3Bperimeter%3DcalloutPerimeter%3BstrokeWidth%3D3%3BfontSize%3D16%3BflipH%3D1%3BflipV%3D1%3Balign%3Dleft%3BverticalAlign%3Dtop%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2263.5%22%20y%3D%22615%22%20width%3D%22142.5%22%20height%3D%22144%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;player_actor&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp;找房间管理员要到类型为大厅、地图为默认&lt;/span&gt;&lt;span style=&quot;color: rgb(252, 252, 250); font-family: &amp;quot;JetBrainsMono NF&amp;quot;, &amp;quot;monospace&amp;quot;, monospace, &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: center; background-color: rgb(45, 42, 46);&quot;&gt;Z战队营地&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;房间&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;ip地址&lt;/span&gt;&lt;span style=&quot;font-size: 13px; text-align: center;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=16;flipH=1;flipV=1;align=left;verticalAlign=top;direction=east;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="251" y="699" width="149" height="116" as="geometry"/>
                </mxCell>
                <mxCell id="47" value="5.&amp;nbsp;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%222.%26amp%3Bnbsp%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%20text-align%3A%20center%3B%26quot%3B%26gt%3Bws_server%E8%B4%9F%E8%B4%A3%E9%89%B4%E6%9D%83%E3%80%81%E5%85%8B%E9%9A%86%E5%87%BA%E7%8E%A9%E5%AE%B6%E5%AF%B9%E5%BA%94%E7%9A%84%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%26quot%3B%26gt%3Bplayer_actor%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%20text-align%3A%20center%3B%26quot%3B%26gt%3B%26lt%3Bbr%26gt%3B%26lt%3Bbr%26gt%3B%26lt%3B%2Fspan%26gt%3B%22%20style%3D%22shape%3Dcallout%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3Bperimeter%3DcalloutPerimeter%3BstrokeWidth%3D3%3BfontSize%3D16%3BflipH%3D1%3BflipV%3D1%3Balign%3Dleft%3BverticalAlign%3Dtop%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2263.5%22%20y%3D%22615%22%20width%3D%22142.5%22%20height%3D%22144%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;player_actor&lt;/span&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp;给房间管理员返回的ip地址发消息说&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-size: 13px; background-color: initial;&quot;&gt;我加入大厅了&lt;/span&gt;&lt;span style=&quot;font-size: 13px; text-align: center;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=16;flipH=1;flipV=1;align=left;verticalAlign=top;direction=east;position2=0.48;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="536" y="436" width="149" height="108" as="geometry"/>
                </mxCell>
                <mxCell id="48" value="6.&amp;nbsp;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%222.%26amp%3Bnbsp%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%20text-align%3A%20center%3B%26quot%3B%26gt%3Bws_server%E8%B4%9F%E8%B4%A3%E9%89%B4%E6%9D%83%E3%80%81%E5%85%8B%E9%9A%86%E5%87%BA%E7%8E%A9%E5%AE%B6%E5%AF%B9%E5%BA%94%E7%9A%84%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%26quot%3B%26gt%3Bplayer_actor%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2013px%3B%20text-align%3A%20center%3B%26quot%3B%26gt%3B%26lt%3Bbr%26gt%3B%26lt%3Bbr%26gt%3B%26lt%3B%2Fspan%26gt%3B%22%20style%3D%22shape%3Dcallout%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3Bperimeter%3DcalloutPerimeter%3BstrokeWidth%3D3%3BfontSize%3D16%3BflipH%3D1%3BflipV%3D1%3Balign%3Dleft%3BverticalAlign%3Dtop%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2263.5%22%20y%3D%22615%22%20width%3D%22142.5%22%20height%3D%22144%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); text-align: center; font-size: 14px;&quot;&gt;room&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); background-color: initial; font-size: 13px;&quot;&gt;_actor 确认，与玩家actor建立长连接。登入流程完毕。&lt;/span&gt;&lt;span style=&quot;font-size: 13px; text-align: center;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=16;flipH=1;flipV=1;align=left;verticalAlign=top;direction=east;position2=0.48;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="536" y="550" width="149" height="109" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="&lt;span style=&quot;text-align: start;&quot;&gt;match_room&lt;/span&gt;&lt;span style=&quot;text-align: start;&quot;&gt;_actor&lt;/span&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;.lua&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: rgb(252, 252, 250); background-color: rgb(45, 42, 46); font-family: &amp;quot;JetBrainsMono NF&amp;quot;, &amp;quot;monospace&amp;quot;, monospace, &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;match_type=&lt;span style=&quot;&quot;&gt;PVP（银河竞技场）&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(252, 252, 250); background-color: rgb(45, 42, 46); font-family: &amp;quot;JetBrainsMono NF&amp;quot;, &amp;quot;monospace&amp;quot;, monospace, &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=middle;dashed=1;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="1207.75" y="306" width="230.5" height="61" as="geometry"/>
                </mxCell>
                <mxCell id="58" value="1. 玩家想联机，找&lt;span style=&quot;border-color: var(--border-color); font-size: 13px; background-color: initial;&quot;&gt;match_&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;service开个组队房间&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=14;flipH=1;flipV=1;align=left;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="937" y="397" width="176" height="103" as="geometry"/>
                </mxCell>
                <mxCell id="60" value="你的组队房间已被排除出匹配队列" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="1484" y="566" width="221" height="93" as="geometry"/>
                </mxCell>
                <mxCell id="61" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;player_actor.lua&lt;/span&gt;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start; background-color: initial;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22websocket%E6%A8%A1%E5%9D%97%26lt%3Bbr%20style%3D%26quot%3Bfont-size%3A%2013px%3B%26quot%3B%26gt%3Bws_server.lua%22%20style%3D%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfontSize%3D13%3BfillColor%3D%23fff2cc%3BstrokeColor%3D%23d6b656%3BverticalAlign%3Dmiddle%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2275%22%20y%3D%22283%22%20width%3D%2297%22%20height%3D%22325%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3Eplay&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=middle;dashed=1;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="979" y="314" width="97" height="76" as="geometry"/>
                </mxCell>
                <mxCell id="62" value="1. 玩家想联机，找&lt;span style=&quot;border-color: var(--border-color); font-size: 13px; background-color: initial;&quot;&gt;match_&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;service开个组队房间&lt;/span&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;strokeWidth=2;fontSize=14;flipH=1;flipV=1;align=left;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="937" y="514" width="176" height="103" as="geometry"/>
                </mxCell>
                <mxCell id="63" value="&lt;span style=&quot;text-align: start;&quot;&gt;match_room&lt;/span&gt;&lt;span style=&quot;text-align: start;&quot;&gt;_actor&lt;/span&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;.lua&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: rgb(252, 252, 250); background-color: rgb(45, 42, 46); font-family: &amp;quot;JetBrainsMono NF&amp;quot;, &amp;quot;monospace&amp;quot;, monospace, &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;match_type=&lt;span style=&quot;&quot;&gt;PvE&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(252, 252, 250); background-color: rgb(45, 42, 46); font-family: &amp;quot;JetBrainsMono NF&amp;quot;, &amp;quot;monospace&amp;quot;, monospace, &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;players=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=middle;dashed=1;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="1221.5" y="477" width="203" height="61" as="geometry"/>
                </mxCell>
                <mxCell id="64" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;room&lt;/span&gt;&lt;span style=&quot;text-align: start; background-color: initial;&quot;&gt;_actor.lua&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: rgb(252, 252, 250); background-color: rgb(45, 42, 46); font-family: &amp;quot;JetBrainsMono NF&amp;quot;, &amp;quot;monospace&amp;quot;, monospace, &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;room_type=&lt;span style=&quot;&quot;&gt;PVP&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(252, 252, 250); background-color: rgb(45, 42, 46); font-family: &amp;quot;JetBrainsMono NF&amp;quot;, &amp;quot;monospace&amp;quot;, monospace, &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;room_mapid=1（&lt;span style=&quot;&quot;&gt;Z战队营地）&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=middle;dashed=1;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="1653" y="250" width="223" height="87" as="geometry"/>
                </mxCell>
                <mxCell id="65" value="场景模块的设计来自：&lt;br&gt;&lt;br&gt;https://blog.csdn.net/yangyu20121224/article/details/130199322" style="shape=note;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;dashed=1;strokeWidth=2;fontSize=14;verticalAlign=top;align=left;whiteSpace=wrap;rounded=0;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
                    <mxGeometry x="237" y="88" width="407" height="87" as="geometry"/>
                </mxCell>
                <mxCell id="72" value="P1" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
                    <mxGeometry x="75" y="1143" width="30" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="73" value="P2" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
                    <mxGeometry x="179" y="1143" width="30" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="71" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
                    <mxGeometry x="189" y="1168" width="10" height="10" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>